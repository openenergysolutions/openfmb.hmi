// For format details, see https://aka.ms/devcontainer.json. For config options, see the README at:
// https://github.com/microsoft/vscode-dev-containers/tree/v0.205.2/containers/typescript-node
{
	"name": "Devcontainer - OpenFMB.HMI - Rust and Angular Development",
	"build": {
		"dockerfile": "Dockerfile",
		"args": { 
			"VARIANT": "16-bullseye"
		}
	},

	"containerEnv": {
		"CI_JOB_TOKEN": "${localEnv:CI_JOB_TOKEN}"
	},

	"runArgs": ["--network=host"],

	// Add the IDs of extensions you want installed when the container is created.
	"extensions": [
		"dbaeumer.vscode-eslint",
		"angular.ng-template",
		"mohsen1.prettify-json",
		"mikael.angular-beastcode",
		"vadimcn.vscode-lldb",
		"mutantdino.resourcemonitor",
		"matklad.rust-analyzer",
		"tamasfe.even-better-toml",
		"serayuzgur.crates",
		"rust-lang.rust-analyzer",
		"tomoki1207.pdf"
	],

	"postCreateCommand": "bash .devcontainer/post-create-setup.sh",

	"features": {
		"ghcr.io/devcontainers/features/rust:1": {}
	}
}